@using Bright.Models
@model IdeasWrapper


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
</head>
<body>
<hr>
    <div class="col-sm-2">
        <button type="submit"><a href="/logout">Log Out</a></button>
    </div>
<hr>
    <h1>Hi @Model.LoggedUser.Alias!! </h1>

<div class="container">
    <div class="row">
        
        <form asp-action="AddIdea" asp-controller="Home" method="post">

            <div class="form-group row">
                <label name="Description" class="col-sm-6 col-form-label">Idea</label>
                <input name="Description" class="col-sm-12 form-control">
            </div>
<hr>
    <button type="submit"><a href="/dashboard">Add Idea!</a></button>   
<hr>
        </form> 
    </div>
</div>    

    <tbody>
                    @foreach(Idea idea in Model.AllIdeas)
                    {
                        <tr>
                            <td><a asp-action="OneIdea" asp-controller="Home" asp-route-id="@idea.IdeaId">@Model.LoggedUser.Alias</a></td>
                            <td>
                                <ul>
                                    @foreach(UserIdea user in idea.UserIdeas)
                                    {
                                        <li>@user.Idea.Description</li>
                                    }
                                </ul>
                            </td>
                            <td><a asp-action="Like" asp-controller="Home" asp-route-id="@idea.IdeaId">Like</a>
                            
                        </tr>
                    }
                </tbody>

</body>
</html>